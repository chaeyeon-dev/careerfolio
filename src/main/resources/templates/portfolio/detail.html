<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layouts/layout :: layout(~{::content})">

<head>
    <title th:text="${portfolio.title} + ' - ÏÉÅÏÑ∏Î≥¥Í∏∞'"></title>
</head>

<th:block th:fragment="content">

    <div class="container" style="max-width: 900px; margin-top: 40px;">

        <div class="card shadow-sm p-4">

            <!-- üî• Ï†úÎ™© -->
            <h2 class="fw-bold mb-2" th:text="${portfolio.title}"></h2>

            <!-- üî• Í≥µÍ∞ú/ÎπÑÍ≥µÍ∞ú Î±ÉÏßÄ -->
            <div class="mb-2">
                <span th:if="${portfolio.isPublic}" class="badge bg-success">Í≥µÍ∞ú</span>
                <span th:unless="${portfolio.isPublic}" class="badge bg-secondary">ÎπÑÍ≥µÍ∞ú</span>
            </div>

            <!-- üî• ÏûëÏÑ±Ïûê + ÎÇ†Ïßú + Ï°∞ÌöåÏàò -->
            <div class="text-muted mb-4">
                <span th:text="'ÏûëÏÑ±Ïûê: ' + ${portfolio.member.username}"></span>
                &nbsp; | &nbsp;
                <span th:text="${#temporals.format(portfolio.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
                &nbsp; | &nbsp;
                <span th:text="'Ï°∞ÌöåÏàò: ' + ${portfolio.views}"></span>
            </div>

            <hr>

            <!-- üî• Ïç∏ÎÑ§Ïùº Ïù¥ÎØ∏ÏßÄ ÌëúÏãú -->
            <div class="mb-4 text-center">
                <img th:if="${portfolio.thumbnailUrl != null}"
                     th:src="@{${portfolio.thumbnailUrl}}"
                     style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 10px;">

                <img th:if="${portfolio.thumbnailUrl == null}"
                     src="/images/default-thumbnail.jpg"
                     style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 10px;">
            </div>

            <hr>

            <!-- üî• ÎÇ¥Ïö© -->
            <div class="mt-4" style="white-space: pre-line; font-size: 1.1rem;"
                 th:text="${portfolio.content}">
            </div>

            <hr>

            <div class="mt-3 d-flex justify-content-between">

                <!-- üî• Î™©Î°ùÏúºÎ°ú -->
                <a href="/portfolio/my" class="btn btn-secondary">
                    Î™©Î°ùÏúºÎ°ú
                </a>

                <div>

                    <!-- üî• ÏàòÏ†ï Î≤ÑÌäº -->
                    <a th:if="${#authentication.name == portfolio.member.username}"
                       th:href="@{|/portfolio/edit/${portfolio.id}|}"
                       class="btn btn-primary me-2">
                        ÏàòÏ†ïÌïòÍ∏∞
                    </a>

                    <!-- üî• ÏÇ≠Ï†ú Î≤ÑÌäº -->
                    <form th:if="${#authentication.name == portfolio.member.username}"
                          th:action="@{|/portfolio/delete/${portfolio.id}|}"
                          method="post"
                          style="display:inline-block;">
                        <button class="btn btn-danger"
                                onclick="return confirm('Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?');">
                            ÏÇ≠Ï†úÌïòÍ∏∞
                        </button>
                    </form>

                </div>
            </div>

        </div>
    </div>

</th:block>

</html>
